pkgname=crab-sock
pkgver=1.0.0
pkgrel=1
pkgdesc="VPN client 'Crab Sock' — a crab in socks holding the world"
arch=('x86_64')
license=('MIT')
depends=() # нет зависимостей, если бинарь статически собран
source=('crab-sock.desktop'  'crab-sock')
sha256sums=('SKIP' 'SKIP')

build() {
    cargo build --release --locked
}

package() {
    install -Dm755 "target/release/crab-sock" "$pkgdir/usr/bin/crab-sock"

    install -Dm644 "crab-sock.desktop" "$pkgdir/usr/share/applications/crab-sock.desktop"

    for size in 16 32 48 128 256; do
        install -Dm644 "src-tauri/icons/icon_${size}x${size}.png" \
            "$pkgdir/usr/share/icons/hicolor/${size}x${size}/apps/crab-sock.png"
    done
}
